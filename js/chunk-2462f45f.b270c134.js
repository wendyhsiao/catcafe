(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2462f45f"],{"0d17":function(t,e,a){},"16b9":function(t,e,a){"use strict";var n=a("0d17"),r=a.n(n);r.a},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var n=a("1d80"),r=a("5899"),s="["+r+"]",i=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),o=function(t){return function(e){var a=String(n(e));return 1&t&&(a=a.replace(i,"")),2&t&&(a=a.replace(c,"")),a}};t.exports={start:o(1),end:o(2),trim:o(3)}},"6b14":function(t,e,a){},7156:function(t,e,a){var n=a("861d"),r=a("d2bb");t.exports=function(t,e,a){var s,i;return r&&"function"==typeof(s=e.constructor)&&s!==a&&n(i=s.prototype)&&i!==a.prototype&&r(t,i),t}},a9e3:function(t,e,a){"use strict";var n=a("83ab"),r=a("da84"),s=a("94ca"),i=a("6eeb"),c=a("5135"),o=a("c6b6"),l=a("7156"),u=a("c04e"),d=a("d039"),p=a("7c73"),f=a("241c").f,g=a("06cf").f,v=a("9bf2").f,h=a("58a8").trim,m="Number",b=r[m],_=b.prototype,C=o(p(_))==m,y=function(t){var e,a,n,r,s,i,c,o,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=h(l),e=l.charCodeAt(0),43===e||45===e){if(a=l.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+l}for(s=l.slice(2),i=s.length,c=0;c<i;c++)if(o=s.charCodeAt(c),o<48||o>r)return NaN;return parseInt(s,n)}return+l};if(s(m,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var k,N=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof N&&(C?d((function(){_.valueOf.call(a)})):o(a)!=m)?l(new b(y(e)),a,N):y(e)},A=n?f(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;A.length>x;x++)c(b,k=A[x])&&!c(N,k)&&v(N,k,g(b,k));N.prototype=_,_.constructor=N,i(r,m,N)}},de2e:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"navbar navbar-light bg-white"},[n("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"admin-cat-cafes"}}},[n("img",{staticClass:"logo",attrs:{src:a("6b4d")}})]),t.isAuthenticated?n("div",[n("div",{staticClass:"mx-3 d-inline-block"},[t._v(" "+t._s(t.currentUser.name)+" ")]),n("div",{staticClass:"btn btn-yellow d-inline-block",on:{click:t.logout}},[t._v("登出 ")])]):t._e()],1)},r=[],s=a("5530"),i=a("2f62"),c={computed:Object(s["a"])({},Object(i["b"])(["currentUser","isAuthenticated"])),methods:{logout:function(){this.$store.commit("revokeAuthentication"),this.$router.push("/admin/catcafes/signin")}}},o=c,l=(a("16b9"),a("2877")),u=Object(l["a"])(o,n,r,!1,null,"5b7143eb",null);e["a"]=u.exports},e7ee:function(t,e,a){"use strict";var n=a("6b14"),r=a.n(n);r.a},f559:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("AdminNavbar"),a("div",{staticClass:"container py-5"},[t.isLoading?a("Spinner"):a("div",[a("AdminCafeList",{attrs:{cafes:t.cafes}}),a("AdminCafePagination",{attrs:{pagination:t.pagination,"current-page":t.currentPage}})],1)],1)],1)},r=[],s=(a("ac1f"),a("841c"),a("96cf"),a("1da1")),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"toolbar"},[a("form",{staticClass:"form-inline mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control mr-sm-2",attrs:{type:"search",name:"search",placeholder:"Search name"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),a("button",{staticClass:"btn btn-secondary my-2 my-sm-0",attrs:{type:"submit"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[t._v("Search")])]),a("router-link",{staticClass:"btn btn-secondary mb-3",attrs:{to:{name:"admin-cat-cafes-new"}}},[t._v("Add cafe ")])],1),a("table",{staticClass:"table table-bordered table-hover"},[t._m(0),0===t.cafes.length?a("tbody",[a("td",{staticClass:"text-center",attrs:{colspan:"4"}},[t._v("無查詢結果")])]):a("tbody",t._l(t.cafes,(function(e){return a("tr",{key:e.id},[a("td",{attrs:{scope:"row"}},[t._v(t._s(e.id))]),a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.address_city))]),a("td",{staticClass:"w-50"},[a("router-link",{staticClass:"btn btn-secondary btn-sm",attrs:{to:{name:"admin-cat-cafe-edit",params:{id:e.id}}}},[t._v("修改資訊")])],1)])})),0)])])},c=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-light"},[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("id")]),a("th",{attrs:{scope:"col"}},[t._v("name")]),a("th",{attrs:{scope:"col"}},[t._v("city")]),a("th",{attrs:{scope:"col"}},[t._v("other")])])])}],o={props:{cafes:{type:Array,required:!0}},data:function(){return{search:""}},methods:{handleSubmit:function(){this.$router.push({path:"/admin/catcafes",query:{search:this.search}})}}},l=o,u=(a("e7ee"),a("2877")),d=Object(u["a"])(l,i,c,!1,null,"6764cf65",null),p=d.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("nav",{staticClass:"d-inline-block",attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"pagination"},[a("li",{class:["page-item",{disabled:1===t.currentPage}]},[a("router-link",{staticClass:"page-link",attrs:{to:{name:"admin-cat-cafes",query:{page:t.pagination.previousPage}},"aria-label":"Previous"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])],1),t._l(t.pagination.totalPages,(function(e){return a("li",{key:e,class:["page-item",{active:t.currentPage===e}]},[a("router-link",{staticClass:"page-link",attrs:{to:{name:"admin-cat-cafes",query:{page:e}}}},[t._v(" "+t._s(e)+" ")])],1)})),a("li",{class:["page-item",{disabled:t.currentPage===t.pagination.pages}]},[a("router-link",{staticClass:"page-link",attrs:{to:{name:"admin-cat-cafes",query:{page:t.pagination.nextPage}},"aria-label":"Next"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])],1)],2)])])},g=[],v=(a("a9e3"),{props:{pagination:{type:Object},currentPage:{type:Number,default:1}}}),h=v,m=Object(u["a"])(h,f,g,!1,null,null,null),b=m.exports,_=a("de2e"),C=a("be6c"),y=a("2375"),k={components:{AdminCafeList:p,AdminCafePagination:b,Spinner:y["a"],AdminNavbar:_["a"]},data:function(){return{cafes:[],currentPage:1,pagination:{page:-1,pages:-1,totalPages:[],previousPage:-1,nextPage:-1},isLoading:!0}},created:function(){var t=this.$route.query,e=t.search,a=void 0===e?"":e,n=t.page,r=void 0===n?"":n;this.fetchCafes({search:a,page:r})},beforeRouteUpdate:function(t,e,a){var n=t.query,r=n.search,s=void 0===r?"":r,i=n.page,c=void 0===i?"":i;this.fetchCafes({search:s,page:c}),a()},methods:{fetchCafes:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r,s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.search,r=t.page,a.prev=1,a.next=4,C["a"].getAdminCafes({search:n,page:r});case 4:s=a.sent,i=s.data,e.cafes=i.cafes.rows,e.currentPage=i.pagination.page,e.pagination=i.pagination,e.isLoading=!1,a.next=16;break;case 12:a.prev=12,a.t0=a["catch"](1),e.isLoading=!1,console.log("error",a.t0);case 16:case"end":return a.stop()}}),a,null,[[1,12]])})))()}}},N=k,A=Object(u["a"])(N,n,r,!1,null,null,null);e["default"]=A.exports}}]);
//# sourceMappingURL=chunk-2462f45f.b270c134.js.map