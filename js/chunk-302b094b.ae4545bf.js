(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-302b094b"],{"0d17":function(t,e,a){},"16b9":function(t,e,a){"use strict";var s=a("0d17"),r=a.n(s);r.a},"46e7":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("AdminNavbar"),a("div",{staticClass:"container py-5"},[t._m(0),a("form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"email"}},[t._v("電子郵件")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{name:"email",type:"email",id:"email",placeholder:"請輸入電子郵件",required:"",autofocus:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[t._v("密碼")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{name:"password",type:"password",id:"password",placeholder:"請輸入密碼",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("button",{staticClass:"btn btn-primary w-100",attrs:{type:"submit"}},[t._v("登入")]),a("div",{staticClass:"text-center mt-3"},[a("router-link",{attrs:{to:"/admin/catcafes/signup"}},[t._v("註冊帳號")])],1)])])],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("h1",[t._v("登入會員")])])}],n=(a("96cf"),a("1da1")),i=a("de2e"),o=a("7696"),c=a("2fa3"),l={data:function(){return{email:"",password:""}},components:{AdminNavbar:i["a"]},methods:{handleSubmit:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.email&&t.password){e.next=4;break}return c["a"].fire({icon:"warning",title:"電子郵件或密碼未填！"}),e.abrupt("return");case 4:return e.next=6,o["a"].signIn({email:t.email,password:t.password});case 6:if(a=e.sent,s=a.data,"success"===s.status){e.next=10;break}throw new Error(s.message);case 10:localStorage.setItem("token",s.token),t.$store.commit("setCurrentUser",s.user),t.$router.push("/admin/catcafes"),e.next=20;break;case 15:e.prev=15,e.t0=e["catch"](0),c["a"].fire({icon:"warning",title:"電子郵件或密碼錯誤！"}),t.password="",console.log("error",e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,15]])})))()}}},u=l,d=a("2877"),m=Object(d["a"])(u,s,r,!1,null,null,null);e["default"]=m.exports},7696:function(t,e,a){"use strict";a("b0c0");var s=a("2fa3");e["a"]={signIn:function(t){var e=t.email,a=t.password;return s["b"].post("/admin/signin",{email:e,password:a})},signUp:function(t){var e=t.name,a=t.email,r=t.password,n=t.password2;return s["b"].post("/admin/signup",{name:e,email:a,password:r,password2:n})}}},de2e:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar navbar-light bg-white"},[s("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"admin-cat-cafes"}}},[s("img",{staticClass:"logo",attrs:{src:a("6b4d")}})]),t.isAuthenticated?s("div",[s("div",{staticClass:"mx-3 d-inline-block"},[t._v(" "+t._s(t.currentUser.name)+" ")]),s("div",{staticClass:"btn btn-yellow d-inline-block",on:{click:t.logout}},[t._v("登出 ")])]):t._e()],1)},r=[],n=a("5530"),i=a("2f62"),o={computed:Object(n["a"])({},Object(i["b"])(["currentUser","isAuthenticated"])),methods:{logout:function(){this.$store.commit("revokeAuthentication"),this.$router.push("/admin/catcafes/signin")}}},c=o,l=(a("16b9"),a("2877")),u=Object(l["a"])(c,s,r,!1,null,"5b7143eb",null);e["a"]=u.exports}}]);
//# sourceMappingURL=chunk-302b094b.ae4545bf.js.map